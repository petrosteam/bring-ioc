<mxfile host="app.diagrams.net" modified="2023-01-22T19:07:37.569Z" agent="5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Safari/605.1.15" etag="heGGnyZcC90T3t7LUJCi" version="20.8.10" type="github">
  <diagram name="Page-1" id="UtrFPzGjZsmER2inbBBO">
    <mxGraphModel dx="2261" dy="804" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="XVPTvkuB_JjgRbBO3WrE-1" value="BeanDefinition" style="swimlane;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="30" y="70" width="200" height="200" as="geometry" />
        </mxCell>
        <mxCell id="XVPTvkuB_JjgRbBO3WrE-2" value="&lt;div style=&quot;&quot;&gt;1. parentName&lt;/div&gt;2. beanClassName&lt;br&gt;3. scope&lt;br&gt;4. isLazy&lt;br&gt;5. dependsOn&lt;br&gt;6. isPrimary&lt;br&gt;7. factoryMethodName&lt;br&gt;8. constructorArgumentValues&lt;br&gt;9. propertyValues&lt;br&gt;10. initMethodName&lt;br&gt;11. destroyMethodName" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="XVPTvkuB_JjgRbBO3WrE-1">
          <mxGeometry x="20" y="30" width="180" height="170" as="geometry" />
        </mxCell>
        <mxCell id="XVPTvkuB_JjgRbBO3WrE-21" value="BeanPostProcessor" style="swimlane;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="350" y="530" width="400" height="60" as="geometry" />
        </mxCell>
        <mxCell id="XVPTvkuB_JjgRbBO3WrE-22" value="&lt;div style=&quot;&quot;&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="XVPTvkuB_JjgRbBO3WrE-21">
          <mxGeometry x="20" y="100" width="20" height="30" as="geometry" />
        </mxCell>
        <mxCell id="XVPTvkuB_JjgRbBO3WrE-26" value="Object postProcessBeforeInitialization(Object bean, String beanName)&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;Object postProcessAfterInitialization(Object bean, String beanName)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="XVPTvkuB_JjgRbBO3WrE-21">
          <mxGeometry y="20" width="400" height="40" as="geometry" />
        </mxCell>
        <mxCell id="XVPTvkuB_JjgRbBO3WrE-34" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="XVPTvkuB_JjgRbBO3WrE-33" target="XVPTvkuB_JjgRbBO3WrE-26">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XVPTvkuB_JjgRbBO3WrE-33" value="AutowiredAnnotationBeanPostProcessor" style="swimlane;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="260" y="640" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="XVPTvkuB_JjgRbBO3WrE-35" value="@Autowired &amp;nbsp;@Value" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="XVPTvkuB_JjgRbBO3WrE-33">
          <mxGeometry x="65" y="30" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="XVPTvkuB_JjgRbBO3WrE-38" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="XVPTvkuB_JjgRbBO3WrE-36" target="XVPTvkuB_JjgRbBO3WrE-26">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XVPTvkuB_JjgRbBO3WrE-36" value="CommonAnnotationBeanPostProcessor" style="swimlane;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="567" y="640" width="250" height="60" as="geometry" />
        </mxCell>
        <mxCell id="XVPTvkuB_JjgRbBO3WrE-37" value="&lt;div&gt;@PreDestroy &amp;nbsp;@PostConstruct&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="XVPTvkuB_JjgRbBO3WrE-36">
          <mxGeometry x="30" y="30" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="XVPTvkuB_JjgRbBO3WrE-39" value="BeanDefinitionReader" style="swimlane;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="370" y="10" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="XVPTvkuB_JjgRbBO3WrE-47" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="XVPTvkuB_JjgRbBO3WrE-42">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="490" y="50" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="XVPTvkuB_JjgRbBO3WrE-42" value="AnnotatedBeanDefinitionReader" style="swimlane;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="500" y="80" width="250" height="40" as="geometry" />
        </mxCell>
        <mxCell id="XVPTvkuB_JjgRbBO3WrE-46" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="XVPTvkuB_JjgRbBO3WrE-43" target="XVPTvkuB_JjgRbBO3WrE-39">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XVPTvkuB_JjgRbBO3WrE-43" value="ClassPathXmlApplicationContext" style="swimlane;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="260" y="80" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="XVPTvkuB_JjgRbBO3WrE-49" value="&lt;b&gt;1. BeanDefinitionReader scans packages for &lt;br&gt;&amp;nbsp;- @Component annotated classes&lt;br&gt;&amp;nbsp;- classes that implement BeanPostProcessor interface&lt;br&gt;Reader creates BeanDefinition objects and stores them into set&lt;/b&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-50" width="380" height="70" as="geometry" />
        </mxCell>
        <mxCell id="XVPTvkuB_JjgRbBO3WrE-50" value="BeanDefinition - describes rules of how bean can be created&amp;nbsp;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="305" y="155" width="350" height="30" as="geometry" />
        </mxCell>
        <mxCell id="XVPTvkuB_JjgRbBO3WrE-55" value="ApplicationContext" style="swimlane;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="460" y="300" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="XVPTvkuB_JjgRbBO3WrE-59" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="XVPTvkuB_JjgRbBO3WrE-56" target="XVPTvkuB_JjgRbBO3WrE-55">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XVPTvkuB_JjgRbBO3WrE-56" value="AnnotationConfigApplicationContext" style="swimlane;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="320" y="370" width="480" height="70" as="geometry" />
        </mxCell>
        <mxCell id="XVPTvkuB_JjgRbBO3WrE-57" value="&amp;lt;T&amp;gt; void registerBean(@Nullable String beanName, Class&amp;lt;T&amp;gt; beanClass..." style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="XVPTvkuB_JjgRbBO3WrE-56">
          <mxGeometry x="10" y="35" width="430" height="30" as="geometry" />
        </mxCell>
        <mxCell id="XVPTvkuB_JjgRbBO3WrE-60" value="&lt;div style=&quot;&quot;&gt;&lt;b&gt;3. ApplicationContext creates singleton beans based on BeanDefinitions.&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp;Puts them into map&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="10" y="310" width="440" height="40" as="geometry" />
        </mxCell>
        <mxCell id="XVPTvkuB_JjgRbBO3WrE-62" value="&lt;b&gt;4. When all&amp;nbsp;@Component&amp;nbsp;objects are created, beanPostProcessors are processing beans using Chain of Responsibility pattern.&lt;br&gt;Method&amp;nbsp;postProcessBeforeInitialization is used if returned object is the same (not proxy). For example, with@Autowired, @Value annotations.&lt;br&gt;Method&amp;nbsp;postProcessAfterInitialization is used if returned object is Proxy. For example, with @Transactional, @Async annotations.&lt;/b&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="10" y="460" width="830" height="60" as="geometry" />
        </mxCell>
        <mxCell id="XVPTvkuB_JjgRbBO3WrE-64" value="&lt;b&gt;2. ApplicationContext creates BeanPostProcessor classes, adds them into set&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry y="280" width="470" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
